(this["webpackJsonpmy-sneakers"]=this["webpackJsonpmy-sneakers"]||[]).push([[0],{422:function(e,t,a){},426:function(e,t,a){},428:function(e,t,a){},452:function(e,t,a){},470:function(e,t,a){},549:function(e,t,a){},560:function(e,t,a){},561:function(e,t,a){},562:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(55),s=a.n(r),i=(a(422),a(188),a(77)),o=(a(189),a(48)),l=a(186),d=a(61),u=(a(308),a(78)),h=a(71),j=a(72),b=a(82),f=a(81),p=(a(426),a.p+"static/media/logo.01ef544c.svg"),m=a(10),O=function(){return Object(m.jsx)("div",{className:"logo-container",children:Object(m.jsx)("img",{src:p,alt:"logo"})})},x=(a(428),a(571)),y=a(572),v=a(573),g=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){for(var e,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return Object(h.a)(this,a),(e=t.call.apply(t,[this].concat(c))).state={theme:"dark",collapsed:!1},e.onReSize=function(){window.innerWidth<1180?e.setState({collapsed:!0}):e.setState({collapsed:!1})},e.debounce=function(e,t){var a=null;return function(){var n=arguments,c=this;a&&clearTimeout(a),a=setTimeout((function(){e(c,n),a=null}),t)}},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.debounce(this.onReSize,500)),this.onReSize()}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(O,{}),Object(m.jsxs)(u.a,{mode:"inline",inlineCollapsed:this.state.collapsed,className:"menu-container",theme:this.state.theme,style:{height:"100vh"},children:[Object(m.jsx)(u.a.Item,{className:"menu-title",icon:Object(m.jsx)(x.a,{}),children:Object(m.jsx)(l.b,{to:"/",children:"\u9996\u9875"})},"1"),Object(m.jsx)(u.a.Item,{className:"menu-title",icon:Object(m.jsx)(y.a,{}),children:Object(m.jsx)(l.b,{to:"/managment",children:"\u6570\u636e\u7edf\u8ba1"})},"2"),Object(m.jsx)(u.a.Item,{className:"menu-title",icon:Object(m.jsx)(v.a,{}),children:Object(m.jsx)(l.b,{to:"/report",children:"\u6570\u636e\u5206\u6790"})},"3")]})]})}}]),a}(c.a.Component),w=(a(299),a(128)),S=(a(310),a(144)),k=(a(213),a(62)),D=(a(214),a(34)),_=(a(291),a(101)),Y=(a(223),a(98)),C=(a(563),a(402)),I=(a(119),a(46)),M=(a(449),a(118)),R=(a(215),a(125)),F=a(37),P=a(187),N=(a(452),a(45)),A=a.n(N),V=a(113),T=a.n(V),z=(a(470),function(){function e(){Object(h.a)(this,e)}return Object(j.a)(e,null,[{key:"ajax",value:function(e){var t=document.getElementById("ajaxLoading");return e.isShowLoading&&(t.style.display="block"),new Promise((function(a,n){T()({url:e.url,method:e.method,timeout:5e3,data:e.data,headers:e.headers}).then((function(e){t.style.display="none",200===e.status||201===e.status?a(e):n(new Error("\u8fde\u63a5\u9519\u8bef\uff0c\u65e0\u6cd5\u8bbf\u95ee\u6570\u636e\uff01"))})).catch((function(){return console.log("\u51fa\u9519\u5566")}))}))}}]),e}()),B={getTotalPages:function(e){for(var t=[],a=1;a<=e;a++)t.push(a);return t},pagination:function(e,t,a,n){return{onChange:function(e){n(e)},pageSizeOptions:[10],current:e,pageSize:10,total:t,showTotal:function(){return"\u5171".concat(a,"\u6761")},showQuickJumper:!0}},auth:function(){return new Promise((function(e,t){z.ajax({url:"https://solegood.com.au/wp-json/jwt-auth/v1/token",method:"post",isShowLoading:!1,data:{username:"cyrusxzw",password:"P@55word!@#"},headers:{"Content-Type":"application/json",accept:"application/json"}}).then((function(e){return e.data})).then((function(a){a.token?e(a.token):t(new Error("\u6ca1\u6709\u83b7\u53d6\u6388\u6743\uff01"))}))}))}},L=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).formRef=c.a.createRef(),e.onReset=function(){var t=e.formRef.current.getFieldsValue();console.log(t),e.props.request(),e.formRef.current.resetFields()},e.handleMatch=function(){var t=e.props.dataSource,a=e.formRef.current.getFieldValue("keywords"),n=e.formRef.current.getFieldValue("stock"),c=e.formRef.current.getFieldValue("start"),r=e.formRef.current.getFieldValue("end"),s=[];if(a||c||r||"all"!==n)if("all"!==n?a&&c||a&&r?s=t.filter((function(e){return e.title.rendered.includes(a)&&n===e.acf.status&&c.isSameOrBefore(A()(e.acf.buy_date,"DD-MM-YYYY"),"day")&&A()(e.acf.buy_date,"DD-MM-YYYY").isBefore(r)})):a?(s=t.filter((function(e){return e.title.rendered.includes(a)&&n===e.acf.status})),console.log(s)):s=c||r?t.filter((function(e){return n===e.acf.status&&c.isSameOrBefore(A()(e.acf.buy_date,"DD-MM-YYYY"),"day")&&A()(e.acf.buy_date,"DD-MM-YYYY").isBefore(r)})):t.filter((function(e){return n===e.acf.status})):a&&c||a&&r?s=t.filter((function(e){return e.title.rendered.includes(a)&&c.isSameOrBefore(A()(e.acf.buy_date,"DD-MM-YYYY"),"day")&&A()(e.acf.buy_date,"DD-MM-YYYY").isBefore(r)})):a?(s=t.filter((function(e){return e.title.rendered.includes(a)})),console.log(s)):(c||r)&&(s=t.filter((function(e){return c.isSameOrBefore(A()(e.acf.buy_date,"DD-MM-YYYY"),"day")&&A()(e.acf.buy_date,"DD-MM-YYYY").isBefore(r)}))),0===s.length)R.a.error({title:"\u5bf9\u4e0d\u8d77\uff0c\u67e5\u65e0\u6b64\u978b\uff01",okText:"\u8fd4\u56de",onOk:function(){e.onReset()}});else{var i=s.length;e.props.handleSearch(s,i)}else e.props.handleSearch(t)},e}return Object(j.a)(a,[{key:"render",value:function(){return Object(m.jsx)(Y.a,{children:Object(m.jsxs)(D.a,Object(F.a)(Object(F.a)({},this.formItemLayout),{},{layout:"inline",ref:this.formRef,initialValues:{stock:"all"},children:[Object(m.jsx)(D.a.Item,{label:"\u5173\u952e\u5b57",name:"keywords",children:Object(m.jsx)(_.a,{placeholder:"\u8bf7\u8f93\u5165\u978b\u6b3e\u540d\u79f0"})}),Object(m.jsxs)(D.a.Item,{label:"\u4e70\u5165\u65f6\u95f4",children:[Object(m.jsx)(D.a.Item,{style:{display:"inline-block",marginRight:0},name:"start",children:Object(m.jsx)(w.a,{placeholder:"\u8d77\u59cb\u65f6\u95f4",style:{width:130}})}),Object(m.jsx)("span",{style:{display:"inline-block",width:"24px",lineHeight:"32px",textAlign:"center"},children:" - "}),Object(m.jsx)(D.a.Item,{style:{display:"inline-block",marginRight:0},name:"end",children:Object(m.jsx)(w.a,{placeholder:"\u7ec8\u6b62\u65f6\u95f4",style:{width:130}})})]}),Object(m.jsx)(D.a.Item,{label:"\u5e93\u5b58",name:"stock",children:Object(m.jsxs)(k.a,{style:{width:100},children:[Object(m.jsx)(k.a.Option,{value:"all",children:"\u5168\u90e8"}),Object(m.jsx)(k.a.Option,{value:"\u5df2\u5356",children:"\u5df2\u5356"}),Object(m.jsx)(k.a.Option,{value:"\u5df2\u6536\u5b9a\u91d1",children:"\u5df2\u6536\u5b9a\u91d1"}),Object(m.jsx)(k.a.Option,{value:"\u672a\u5356",children:"\u672a\u5356"})]})}),Object(m.jsx)(D.a.Item,{children:Object(m.jsx)(I.a,{type:"primary",onClick:this.handleMatch,children:"\u67e5\u8be2"})}),Object(m.jsx)(D.a.Item,{children:Object(m.jsx)(I.a,{onClick:this.onReset,children:"\u91cd\u7f6e"})})]}))})}}]),a}(c.a.Component),q=a(392),K=a.n(q),E=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={hiddenDeposit:!0,disabled:!0,bounds:{left:0,top:0,bottom:0,right:0}},e.draggleRef=c.a.createRef(),e.onStart=function(t,a){var n,c,r,s,i=null===(n=window)||void 0===n||null===(c=n.document)||void 0===c?void 0:c.documentElement,o=i.clientWidth,l=i.clientHeight,d=null===(r=e.draggleRef)||void 0===r||null===(s=r.current)||void 0===s?void 0:s.getBoundingClientRect();e.setState({bounds:{left:-(null===d||void 0===d?void 0:d.left)+(null===a||void 0===a?void 0:a.x),right:o-((null===d||void 0===d?void 0:d.right)-(null===a||void 0===a?void 0:a.x)),top:-(null===d||void 0===d?void 0:d.top)+(null===a||void 0===a?void 0:a.y),bottom:l-((null===d||void 0===d?void 0:d.bottom)-(null===a||void 0===a?void 0:a.y))}})},e.onStatusChange=function(t){"\u5df2\u6536\u5b9a\u91d1"===t?e.setState({hiddenDeposit:!1}):e.setState({hiddenDeposit:!0})},e.addRecord=function(t){e.props.addNewSneaker(t)},e.closeAdd=function(){e.props.onCloseAdd()},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsx)(R.a,{visible:this.props.visible,title:Object(m.jsx)("div",{style:{width:"100%",cursor:"move"},onMouseOver:function(){e.state.disabled&&e.setState({disabled:!1})},onMouseOut:function(){e.setState({disabled:!0})},onFocus:function(){},onBlur:function(){},children:"\u6dfb\u52a0\u8bb0\u5f55"}),onCancel:function(){e.closeAdd()},footer:[Object(m.jsx)(I.a,{onClick:function(){e.closeAdd()},children:"\u53d6\u6d88"},"cancel"),Object(m.jsx)(I.a,{form:"addSneakerForm",htmlType:"submit",children:"\u786e\u5b9a"},"submit")],modalRender:function(t){return Object(m.jsx)(K.a,{disabled:e.state.disabled,bounds:e.state.bounds,onStart:function(t,a){return e.onStart(t,a)},children:Object(m.jsx)("div",{ref:e.draggleRef,children:t})})},children:Object(m.jsx)("div",{className:"add-content-container",children:Object(m.jsxs)(D.a,{id:"addSneakerForm",onFinish:this.addRecord,children:[Object(m.jsx)(D.a.Item,{label:"\u978b\u6b3e",name:"sneaker",rules:[{required:!0,message:"\u4ea7\u54c1\u540d\u5fc5\u987b\u586b\u5199!"}],children:Object(m.jsx)(_.a,{})}),Object(m.jsx)(D.a.Item,{label:"\u5c3a\u7801",name:"size",children:Object(m.jsx)(_.a,{})}),Object(m.jsx)(D.a.Item,{label:"\u72b6\u6001",name:"status",children:Object(m.jsxs)(k.a,{placeholder:"\u8bf7\u9009\u62e9",onChange:this.onStatusChange,children:[Object(m.jsx)(k.a.Option,{value:"\u5df2\u5356",children:"\u5df2\u5356"}),Object(m.jsx)(k.a.Option,{value:"\u5df2\u6536\u5b9a\u91d1",children:"\u5df2\u6536\u5b9a\u91d1"}),Object(m.jsx)(k.a.Option,{value:"\u672a\u5356",children:"\u672a\u5356"})]})}),Object(m.jsx)(D.a.Item,{hidden:this.state.hiddenDeposit,label:"\u4ed8\u4e86\u591a\u5c11\u5b9a\u91d1?",name:"depositAmount",children:Object(m.jsx)(S.a,{min:0,style:{width:"100%"}})}),Object(m.jsx)(D.a.Item,{label:"\u4e70\u5165\u4ef7",name:"buyPrice",rules:[{required:!0,message:"\u4e70\u5165\u4ef7\u5fc5\u987b\u586b\u5199!"}],children:Object(m.jsx)(S.a,{min:0,style:{width:"100%"}})}),Object(m.jsx)(D.a.Item,{label:"\u5356\u51fa\u4ef7",name:"soldPrice",children:Object(m.jsx)(S.a,{min:0,style:{width:"100%"}})}),Object(m.jsx)(D.a.Item,{label:"\u4e70\u5165\u65f6\u95f4",name:"buyDate",rules:[{required:!0,message:"\u4e70\u5165\u4ef7\u5fc5\u987b\u586b\u5199!"}],children:Object(m.jsx)(w.a,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4"})}),Object(m.jsx)(D.a.Item,{label:"\u5356\u51fa\u65f6\u95f4",name:"soldDate",children:Object(m.jsx)(w.a,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4"})}),Object(m.jsx)(D.a.Item,{label:"\u4e70\u5bb6",name:"buyer",children:Object(m.jsx)(_.a,{})}),Object(m.jsx)(D.a.Item,{label:"\u5907\u6ce8",name:"remarks",children:Object(m.jsx)(_.a,{})})]})})})}}]),a}(c.a.Component),U=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e={span:12},t=this.props.selectedRows.map((function(t,a){var n={title:"\u6240\u9009\u978b\u6b3e id: ".concat(t.newId)};return Object(m.jsx)("div",{className:"confrim-delete",children:Object(m.jsx)(Y.a,Object(F.a)(Object(F.a)({},n),{},{children:Object(m.jsx)(D.a,{children:Object(m.jsxs)(i.a,{children:[Object(m.jsx)(o.a,Object(F.a)(Object(F.a)({},e),{},{children:Object(m.jsx)(D.a.Item,{label:"\u978b\u6b3e",children:t.title.rendered})})),Object(m.jsx)(o.a,Object(F.a)(Object(F.a)({},e),{},{children:Object(m.jsx)(D.a.Item,{label:"\u5c3a\u7801",children:t.acf.size})})),Object(m.jsx)(o.a,Object(F.a)(Object(F.a)({},e),{},{children:Object(m.jsx)(D.a.Item,{label:"\u4e70\u5165\u4ef7\u683c",children:t.acf.buy_price})})),Object(m.jsx)(o.a,Object(F.a)(Object(F.a)({},e),{},{children:Object(m.jsx)(D.a.Item,{label:"\u662f\u5426\u5356\u51fa",children:t.acf.status})}))]})})}))},a)}));return Object(m.jsx)(R.a,{title:"\u5220\u9664\u8bb0\u5f55",visible:this.props.visible,onCancel:this.props.onCloseDelete,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:this.props.onDelete,children:Object(m.jsx)("div",{className:"delect-content-container",children:t})})}}]),a}(c.a.Component),$=a(393),W=function(e){var t=e.data.map((function(e){return{"\u978b\u6b3e":e.title.rendered,"\u5c3a\u7801":e.acf.size,"\u4e70\u5165\u65f6\u95f4":e.acf.buy_date,"\u4e70\u5165\u4ef7\u683c":e.acf.buy_price,"\u4e70\u5bb6":e.acf.buyer,"\u5356\u51fa\u65f6\u95f4":e.acf.sold_date,"\u5356\u51fa\u4ef7\u683c":e.acf.sold_price,"\u5229\u6da6":e.acf.sold_price?e.acf.sold_price-e.acf.buy_price:0-e.acf.buy_price,"\u5907\u6ce8":e.acf.remarks}}));return Object(m.jsx)(I.a,{children:Object(m.jsx)($.CSVLink,{data:t,children:"\u5bfc\u51fa\u8bb0\u5f55"})})},J=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={dataSource:[],totalPage:null,currentPage:1,totalRecords:null,authenticKey:null,selectedRowKeys:[],selectedRows:[],visible:!1,editVisible:!1,addVisible:!1,deleteConfirmVisible:!1,buttonDisabled:!0,hiddenDeposit:!0,disabled:!0},e.formItemLayout={labelCol:{span:8},wrapperCol:{span:16}},e.request=function(){z.ajax({url:"https://solegood.com.au/wp-json/wp/v2/posts",method:"get",isShowLoading:!0}).then((function(t){var a=B.getTotalPages(t.headers["x-wp-totalpages"]),n=t.headers["x-wp-total"],c=a.map((function(e){return z.ajax({url:"https://solegood.com.au/wp-json/wp/v2/posts?page=".concat(e),method:"get",isShowLoading:!0})}));T.a.all(c).then(T.a.spread((function(){for(var t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];var r=a.every((function(e){return 200===e.status}));if(r){var s=Object(P.a)(a.map((function(e){return e.data}))),i=s.flat(),o=i.length,l=i.map((function(e,t){return e.key=t,e=Object(F.a)(Object(F.a)({},e),{},{newId:o-t})}));e.setState({totalRecords:n,selectedRowKeys:[],selectedRows:[],dataSource:l,buttonDisabled:!0,deleteConfirmVisible:!1})}else R.a.error({visible:e.state.visible,title:"\u9519\u8bef",content:"\u8fde\u63a5\u9519\u8bef\uff0c\u65e0\u6cd5\u8bbf\u95ee\u6570\u636e\uff01",okText:"\u53d6\u6d88"})}))).catch((function(e){return new Error("\u6570\u636e\u65e0\u6cd5\u52a0\u8f7d\uff01\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\uff01---".concat(e))}))}))},e.formUpdate=c.a.createRef(),e.onOpenAdd=function(){e.setState({addVisible:!0})},e.onCloseAdd=function(){e.setState({addVisible:!1})},e.addNewSneaker=function(t){var a=e.state.authenticKey;z.ajax({url:"https://solegood.com.au/wp-json/wp/v2/posts",method:"post",isShowLoading:!1,headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(a)},data:{title:t.sneaker,content:"",status:"publish",acf_fields:{size:t.size,buy_price:t.buyPrice,buy_date:t.buyDate,buyer:t.buyer,status:t.status,deposit_amount:t.depositAmount,sold_date:t.soldDate,sold_price:t.soldPrice,remarks:t.remarks}}}).then((function(t){if(e.setState({addVisible:!1}),201===t.status){var a=t.data.title.rendered;e.request(),M.b.success("\u978b\u6b3e: ".concat(a,"\uff0c\u5df2\u7ecf\u6210\u529f\u6dfb\u52a0!"))}else M.b.error("\u6dfb\u52a0\u5931\u8d25!")}))},e.onOpenDelete=function(){e.setState({deleteConfirmVisible:!0})},e.onCloseDelete=function(){e.setState({deleteConfirmVisible:!1})},e.onDelete=function(){var t=e.state,a=t.selectedRows,n=t.authenticKey,c=a.map((function(e){return e.id})),r=a.map((function(e){return e.newId})),s=c.map((function(e){return z.ajax({url:"https://solegood.com.au/wp-json/wp/v2/posts/".concat(e,"?force=true"),isShowLoading:!0,method:"delete",headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(n)}})}));T.a.all(s).then(T.a.spread((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var c=a.every((function(e){return 200===e.status}));c?(e.setState({selectedRowKeys:[],selectedRows:[],deleteConfirmVisible:!1,buttonDisabled:!0}),e.request(),M.b.success("\u8bb0\u5f55:".concat(r,"\u5df2\u7ecf\u6210\u529f\u5220\u9664\uff01"))):M.b.error("\u5220\u9664\u5931\u8d25\u4e86\uff01")}))).catch((function(e){return new Error("\u5931\u8d25\u4e86\uff01\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\uff01---".concat(e))}))},e.onOpenEdit=function(){var t=e.state,a=t.selectedRowKeys,n=t.selectedRows;if(a.length>1)M.b.error("\u53ea\u80fd\u9009\u62e9\u4e00\u884c\u8fdb\u884c\u7f16\u8f91\uff01");else{e.setState({editVisible:!0});var c=e.formUpdate.current,r=n[0].acf,s={sneaker:n[0].title.rendered,size:r.size,status:r.status,buyPrice:r.buy_price,soldPrice:r.sold_price,buyDate:A()(r.buy_date,"DD-MM-YYYY"),soldDate:r.sold_date?A()(r.sold_date,"DD-MM-YYYY"):"",buyer:r.buyer,remarks:r.remarks},i=null;"\u5df2\u6536\u5b9a\u91d1"===r.status?(i=Object(F.a)(Object(F.a)({},s),{},{depositAmount:r.deposit_amount}),e.setState({hiddenDeposit:!1})):(i=Object(F.a)(Object(F.a)({},s),{},{depositAmount:""}),e.setState({hiddenDeposit:!0})),e.setState({initialValues:i}),c&&("\u5df2\u6536\u5b9a\u91d1"===r.status?(e.formUpdate.current.setFieldsValue(Object(F.a)(Object(F.a)({},s),{},{depositAmount:r.deposit_amount})),e.setState({hiddenDeposit:!1})):(e.formUpdate.current.setFieldsValue(Object(F.a)(Object(F.a)({},s),{},{depositAmount:""})),e.setState({hiddenDeposit:!0})))}},e.editSneakerForm=function(t){var a=e.state,n=a.authenticKey,c=a.selectedRows[0].id;t.buyDate&&t.buyDate.add(1,"day"),t.soldDate&&t.soldDate.add(1,"day"),e.setState({editVisible:!1}),z.ajax({url:"https://solegood.com.au/wp-json/wp/v2/posts/".concat(c),method:"put",isShowLoading:!1,headers:{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(n)},data:{title:t.sneaker,content:"",acf_fields:{size:t.size,buy_price:t.buyPrice,buy_date:t.buyDate,buyer:t.buyer,status:t.status,deposit_amount:t.depositAmount,sold_date:t.soldDate,sold_price:t.soldPrice,remarks:t.remarks}}}).then((function(t){200===t.status?(e.request(),M.b.success("\u5df2\u7ecf\u6210\u529f\u7f16\u8f91!")):M.b.error("\u7f16\u8f91\u5931\u8d25!")}))},e.onSelectChange=function(t,a){0===t.length?e.setState({selectedRowKeys:t,selectedRows:a,buttonDisabled:!0}):e.setState({selectedRowKeys:t,selectedRows:a,buttonDisabled:!1})},e.onRowClick=function(t){var a=Object(P.a)(e.state.selectedRowKeys),n=Object(P.a)(e.state.selectedRows);a.indexOf(t.key)>=0?(a.splice(a.indexOf(t.key),1),n.splice(n.indexOf(t),1)):(a.push(t.key),n.push(t));var c=!(a.length>0);e.setState({selectedRowKeys:a,selectedRows:n,buttonDisabled:c})},e.onStatusChange=function(t){"\u5df2\u6536\u5b9a\u91d1"===t?e.setState({hiddenDeposit:!1}):e.setState({hiddenDeposit:!0})},e.handleSearch=function(t,a){e.setState({dataSource:t,totalRecords:a})},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.request(),B.auth().then((function(t){e.setState({authenticKey:t})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedRowKeys,n=t.dataSource,c=[{title:"id",dataIndex:"newId",key:"newId"},{title:"\u978b\u6b3e",dataIndex:"title",key:"sneaker",render:function(e){return e.rendered}},{title:"\u5c3a\u7801",dataIndex:"acf",key:"size",render:function(e){return e.size}},{title:"\u72b6\u6001",dataIndex:"acf",key:"status",render:function(e){return"\u5df2\u6536\u5b9a\u91d1"===e.status?"".concat(e.status,": ").concat(e.deposit_amount):e.status}},{title:"\u4e70\u5165\u4ef7",dataIndex:"acf",key:"buyPrice",render:function(e){return e.buy_price}},{title:"\u5356\u51fa\u4ef7",dataIndex:"acf",key:"soldPrice",render:function(e){return e.sold_price}},{title:"\u4e70\u5165\u65f6\u95f4",dataIndex:"acf",key:"buyDate",render:function(e){return e.buy_date},sorter:function(e,t){return A()(e.acf.buy_date,"DD-MM-YYYY").unix()-A()(t.acf.buy_date,"DD-MM-YYYY").unix()}},{title:"\u5356\u51fa\u65f6\u95f4",dataIndex:"acf",key:"soldDate",render:function(e){return e.sold_date}},{title:"\u4e70\u5bb6",dataIndex:"acf",key:"buyer",render:function(e){return e.buyer}},{title:"\u5229\u6da6",dataIndex:"acf",key:"profit",sorter:function(e,t){return("undefined"==typeof e.acf.sold_price?0-e.acf.buy_price:e.acf.sold_price-e.acf.buy_price)-("undefined"==typeof t.acf.sold_price?0-t.acf.buy_price:t.acf.sold_price-t.acf.buy_price)},render:function(e){return e.sold_price?e.sold_price-e.buy_price:0-e.buy_price}},{title:"\u5907\u6ce8",dataIndex:"acf",key:"remarks",render:function(e){return e.remarks}}],r={selectedRowKeys:a,onChange:this.onSelectChange},s={disabled:this.state.buttonDisabled?"disabled":""};return Object(m.jsxs)("div",{className:"table-container",children:[Object(m.jsx)(L,{dataSource:this.state.dataSource,handleSearch:this.handleSearch,request:this.request}),Object(m.jsxs)(Y.a,{className:"inner-table",children:[Object(m.jsxs)("div",{className:"btn-container",children:[Object(m.jsx)(I.a,{type:"primary",onClick:this.onOpenAdd,children:"\u6dfb\u52a0\u8bb0\u5f55"}),Object(m.jsx)(I.a,Object(F.a)(Object(F.a)({danger:!0,onClick:this.onOpenDelete},s),{},{children:"\u5220\u9664\u8bb0\u5f55"})),Object(m.jsx)(I.a,Object(F.a)(Object(F.a)({type:"primary",ghost:!0,onClick:this.onOpenEdit},s),{},{children:"\u7f16\u8f91\u8bb0\u5f55"})),Object(m.jsx)(W,{data:this.state.dataSource})]}),Object(m.jsx)(C.a,{columns:c,dataSource:n,rowSelection:r,pagination:B.pagination(this.state.currentPage,this.state.totalPage,this.state.totalRecords,(function(t){e.setState({currentPage:t})})),onRow:function(t){return{onClick:function(){e.onRowClick(t)}}}})]}),Object(m.jsx)(E,{addNewSneaker:this.addNewSneaker,visible:this.state.addVisible,onCloseAdd:this.onCloseAdd}),Object(m.jsx)(U,{onDelete:this.onDelete,onCloseDelete:this.onCloseDelete,selectedRows:this.state.selectedRows,visible:this.state.deleteConfirmVisible}),Object(m.jsx)(R.a,{title:"\u7f16\u8f91\u8bb0\u5f55",visible:this.state.editVisible,onCancel:function(){e.setState({editVisible:!1})},footer:[Object(m.jsx)(I.a,{onClick:function(){e.setState({editVisible:!1})},children:"\u53d6\u6d88"},"cancel"),Object(m.jsx)(I.a,{form:"editSneakerForm",htmlType:"submit",children:"\u786e\u5b9a"},"submit")],children:Object(m.jsx)("div",{className:"edit-content-container",children:Object(m.jsxs)(D.a,{id:"editSneakerForm",ref:this.formUpdate,initialValues:this.state.initialValues,onFinish:this.editSneakerForm,children:[Object(m.jsx)(D.a.Item,{label:"\u978b\u6b3e",name:"sneaker",rules:[{required:!0,message:"\u4ea7\u54c1\u540d\u5fc5\u987b\u586b\u5199!"}],children:Object(m.jsx)(_.a,{})}),Object(m.jsx)(D.a.Item,{label:"\u5c3a\u7801",name:"size",children:Object(m.jsx)(_.a,{})}),Object(m.jsx)(D.a.Item,{label:"\u72b6\u6001",name:"status",children:Object(m.jsxs)(k.a,{placeholder:"\u8bf7\u9009\u62e9",onChange:this.onStatusChange,children:[Object(m.jsx)(k.a.Option,{value:"\u5df2\u5356",children:"\u5df2\u5356"}),Object(m.jsx)(k.a.Option,{value:"\u5df2\u6536\u5b9a\u91d1",children:"\u5df2\u6536\u5b9a\u91d1"}),Object(m.jsx)(k.a.Option,{value:"\u672a\u5356",children:"\u672a\u5356"})]})}),Object(m.jsx)(D.a.Item,{hidden:this.state.hiddenDeposit,label:"\u4ed8\u4e86\u591a\u5c11\u5b9a\u91d1?",name:"depositAmount",children:Object(m.jsx)(S.a,{min:0,style:{width:"100%"}})}),Object(m.jsx)(D.a.Item,{label:"\u4e70\u5165\u4ef7",name:"buyPrice",rules:[{required:!0,message:"\u4e70\u5165\u4ef7\u5fc5\u987b\u586b\u5199!"}],children:Object(m.jsx)(S.a,{min:0,style:{width:"100%"}})}),Object(m.jsx)(D.a.Item,{label:"\u5356\u51fa\u4ef7",name:"soldPrice",children:Object(m.jsx)(S.a,{min:0,style:{width:"100%"}})}),Object(m.jsx)(D.a.Item,{label:"\u4e70\u5165\u65f6\u95f4",name:"buyDate",rules:[{required:!0,message:"\u4e70\u5165\u4ef7\u5fc5\u987b\u586b\u5199!"}],children:Object(m.jsx)(w.a,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4"})}),Object(m.jsx)(D.a.Item,{label:"\u5356\u51fa\u65f6\u95f4",name:"soldDate",children:Object(m.jsx)(w.a,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4"})}),Object(m.jsx)(D.a.Item,{label:"\u4e70\u5bb6",name:"buyer",children:Object(m.jsx)(_.a,{})}),Object(m.jsx)(D.a.Item,{label:"\u5907\u6ce8",name:"remarks",children:Object(m.jsx)(_.a,{})})]})})})]})}}]),a}(c.a.Component),G=a(150),H=a(406),Q=a(405),X=a(567),Z=a(569),ee=a(570),te=(a(549),function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={data:[]},e.asyncGet=function(){z.ajax({url:"https://solegood.com.au/wp-json/wp/v2/posts",method:"get",isShowLoading:!0}).then((function(t){var a=B.getTotalPages(t.headers["x-wp-totalpages"]).map((function(e){return z.ajax({url:"https://solegood.com.au/wp-json/wp/v2/posts?page=".concat(e),method:"get",isShowLoading:!0})}));T.a.all(a).then(T.a.spread((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var c=a.every((function(e){return 200===e.status}));if(c){var r=Object(P.a)(a.map((function(e){return e.data}))),s=r.flat(),i=s.map((function(e,t){return e.key=t,e=Object(F.a)(Object(F.a)({},e),{},{newId:t+1})}));e.setState({data:i})}}))).catch((function(e){return console.log("fetch data failed",e)}))}))},e.totalSale=function(e){for(var t="",a=0;a<e.length;a++)e[a].acf.sold_price&&(t=+t+ +e[a].acf.sold_price);return t},e.averageSale=function(t){var a=e.totalSale(t),n=(new Date).getMonth()+1;return Math.round(a/n)||""},e.currentMonthSale=function(e){var t,a=e.map((function(e){return e.acf.sold_date&&A()(e.acf.buy_date,"DD-MM-YYYY").month()===A()().month()?e.acf.sold_price:"0"})),n=0,c=Object(G.a)(a);try{for(c.s();!(t=c.n()).done;){n=+n+ +t.value}}catch(r){c.e(r)}finally{c.f()}return n},e.monthCompare=function(t){var a,n=t.map((function(e){return e.acf.sold_date&&A()(e.acf.buy_date,"DD-MM-YYYY").isSame(A()().subtract(1,"months").endOf("month"),"month")?e.acf.sold_price:"0"})),c=0,r=Object(G.a)(n);try{for(r.s();!(a=r.n()).done;){c=+c+ +a.value}}catch(o){r.e(o)}finally{r.f()}var s=e.currentMonthSale(t);if(0!==c&&0!==s){var i=s/c-1;return Math.round(100*i)}return""},e.totalProfit=function(e){for(var t="",a=0;a<e.length;a++){t=+t+ +(+(e[a].acf.sold_price?e[a].acf.sold_price:0)-+e[a].acf.buy_price)}return t},e.currentMonthProfit=function(e){for(var t=e.filter((function(e){return A()(e.acf.buy_date,"DD-MM-YYYY").isSame(A()(),"month")?e:null})).map((function(e){return e.acf.sold_price?e.acf.sold_price-e.acf.buy_price:-e.acf.buy_price})),a="",n=0;n<t.length;n++)a=+a+ +t[n];return a},e.totalBuy=function(e){var t=e.length;return e.length>0?t:""},e.totalSold=function(e){var t=e.filter((function(e){return"\u5df2\u5356"===e.acf.status}));return 0!==t.length?t.length:""},e.dataForTotalBuyChart=function(e){if(e.length>0){var t=e.map((function(e){return A()(e.acf.buy_date,"DD-MM-YYYY").format("M")}));t.sort();for(var a=[],n=0;n<t.length;n++){for(var c=0,r=0;r<t.length;r++)t[n]===t[r]&&c++;a.push([t[n],c])}return a.map((function(e){return{"\u6708\u4efd":e[0],"\u8d2d\u4e70\u6570\u91cf":e[1]}}))}return console.log("\u6682\u65f6\u65e0\u6570\u636e\uff01"),""},e.dataForTotalSoldChart=function(e){if(e.length>0){var t=e.map((function(e){return{month:A()(e.acf.buy_date,"DD-MM-YYYY").format("M"),status:e.acf.status}})).filter((function(e){return"\u5df2\u5356"===e.status})).map((function(e){return e.month}));t.sort();for(var a=[],n=0;n<t.length;){for(var c=0,r=0;r<t.length;r++)t[n]===t[r]&&c++;a.push([t[n],c]),n+=c}return a.map((function(e){return{"\u6708\u4efd":e[0],"\u5356\u51fa\u6570\u91cf":e[1]}}))}return""},e.dataForProfitChart=function(e){if(e.length>0){var t=e.map((function(e){return e.acf.buy_price?e={month:A()(e.acf.buy_date,"DD-MM-YYYY").format("M"),profit:e.acf.sold_price?e.acf.sold_price-e.acf.buy_price:0-e.acf.buy_price}:(console.log("\u68c0\u67e5\u4e70\u5165\u4ef7\u662f\u5426\u4e3a\u7a7a\uff01"),"")}));t.sort((function(e,t){return e.month-t.month}));var a={};t.forEach((function(e){a.hasOwnProperty(e.month)?a[e.month]=a[e.month]+e.profit:a[e.month]=e.profit}));var n=[];for(var c in a)n.push({"\u6708\u4efd":c,"\u5229\u6da6":a[c]});return n}return console.log("\u6682\u65f6\u65e0\u6570\u636e\uff01"),""},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.asyncGet()}},{key:"render",value:function(){var e=this.state.data,t={percent:(this.currentMonthProfit(e)>=0?this.currentMonthProfit(e):0)/this.totalProfit(e)||0,outline:{border:4,distance:8},wave:{length:128},statistic:{title:{formatter:function(){return"\u5360\u603b\u5229\u6da6"}}}},a={height:150,tooltip:{customContent:function(e,t){return"<div>".concat(e,"\u6708, \u8d2d\u4e70\u4e86").concat(t[0]?t[0].value:"","\u53cc</div>")}},data:this.dataForTotalBuyChart(e)||[],xField:"\u6708\u4efd",yField:"\u8d2d\u4e70\u6570\u91cf",label:{position:"middle",style:{fill:"#FFFFFF",opacity:.6}}},n={height:150,tooltip:{customContent:function(e,t){return"<div>".concat(e,"\u6708, \u5356\u51fa\u4e86").concat(t[0]?t[0].value:"","\u53cc</div>")}},data:this.dataForTotalSoldChart(e)||[],xField:"\u6708\u4efd",yField:"\u5356\u51fa\u6570\u91cf",label:{position:"middle",style:{fill:"#FFFFFF",opacity:.6}}},c={data:this.dataForProfitChart(e)||[],xField:"\u6708\u4efd",yField:"\u5229\u6da6",tooltip:{customContent:function(e,t){return"<div>\u5229\u6da6\uff1a$".concat(t[0]?t[0].value:"","</div>")}},point:{visible:!0,size:5,shape:"diamond",style:{fill:"white",stroke:"#2593fc",lineWidth:2}},label:{position:"left",style:{fill:"#000000"},offsetY:-5}};return Object(m.jsxs)("div",{className:"report-container",children:[Object(m.jsxs)(i.a,{className:"top",children:[Object(m.jsx)(o.a,{span:6,children:Object(m.jsxs)(Y.a,{title:"\u603b\u9500\u552e\u989d",children:[Object(m.jsx)("div",{className:"total",children:"$ ".concat(this.totalSale(e))}),Object(m.jsx)("div",{className:"monthSale",children:"\u672c\u6708\u9500\u552e\u989d $".concat(this.currentMonthSale(e))}),Object(m.jsxs)("div",{className:"monthCompare",children:["\u6bd4\u4e0a\u6708 \xa0\xa0 ".concat(this.monthCompare(e),"%"),Object(m.jsx)(H.a,{className:"statusIcon",style:{display:this.monthCompare(e)<0?"none":"inline-block",color:"red"}}),Object(m.jsx)(Q.a,{className:"statusIcon",style:{display:this.monthCompare(e)>=0?"none":"inline-block",color:"green"}})]}),Object(m.jsx)("div",{className:"average",children:"\u6708\u5747\u9500\u552e\u989d $".concat(this.averageSale(e))})]})}),Object(m.jsx)(o.a,{span:6,children:Object(m.jsxs)(Y.a,{title:"\u603b\u5229\u6da6",children:[Object(m.jsx)("div",{className:"total",children:"$ ".concat(this.totalProfit(e))}),Object(m.jsxs)("div",{className:"profit-month",children:[Object(m.jsx)("p",{children:"\u672c\u6708\u5229\u6da6 $".concat(this.currentMonthProfit(e))}),Object(m.jsx)(X.a,Object(F.a)({},t))]})]})}),Object(m.jsx)(o.a,{span:6,children:Object(m.jsxs)(Y.a,{title:"\u8d2d\u4e70\u603b\u91cf",children:[Object(m.jsx)("div",{className:"total",children:"".concat(this.totalBuy(e))}),Object(m.jsx)(Z.a,Object(F.a)({},a))]})}),Object(m.jsx)(o.a,{span:6,children:Object(m.jsxs)(Y.a,{title:"\u5356\u51fa\u603b\u91cf",children:[Object(m.jsx)("div",{className:"total",children:"".concat(this.totalSold(e))}),Object(m.jsx)(ee.a,Object(F.a)({},n))]})})]}),Object(m.jsx)(i.a,{className:"middle",children:Object(m.jsx)(o.a,{span:24,children:Object(m.jsx)(Y.a,{title:"\u5229\u6da6\u8d8b\u52bf\u7edf\u8ba1",children:Object(m.jsx)(ee.a,Object(F.a)({},c))})})})]})}}]),a}(c.a.Component)),ae=(a(564),a(403)),ne=(a(560),function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={picUrl:"",weather:"",temperature:""},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getWeatherAPIData()}},{key:"getWeatherAPIData",value:function(){var e=this;z.ajax({url:"https://devapi.qweather.com/v7/weather/now?location=".concat("101020100","&key=").concat("150a91117a2b479b81b25fc8d218e142")}).then((function(t){var a=t.data.now;e.setState({weather:a.text,temperature:a.temp})}))}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("hr",{style:{border:"1px solid #1890ff",marginTop:50}}),Object(m.jsxs)(i.a,{children:[Object(m.jsx)(o.a,{span:"4",children:Object(m.jsx)(ae.a,{className:"site-page-header",title:"\u7403\u978b\u7ba1\u7406",subTitle:"v2.1.1"})}),Object(m.jsxs)(o.a,{span:"20",className:"weather",children:[Object(m.jsx)("span",{className:"weather-img"}),Object(m.jsxs)("span",{className:"weather-detail",children:["\u4e0a\u6d77\uff1a",this.state.weather]}),Object(m.jsxs)("span",{className:"weather-temperature",children:[this.state.temperature,"\u2103"]})]})]})]})}}]),a}(c.a.Component));a(561);var ce=function(){return Object(m.jsx)(l.a,{children:Object(m.jsxs)(i.a,{children:[Object(m.jsx)(o.a,{span:3,style:{backgroundColor:"#002140"},children:Object(m.jsx)(g,{})}),Object(m.jsxs)(o.a,{span:21,children:[Object(m.jsx)(ne,{}),Object(m.jsx)(d.a,{exact:!0,path:"/",render:function(){return Object(m.jsx)("div",{className:"home-container",children:Object(m.jsx)("h1",{children:"\u6b22\u8fce\u6765\u5230\u8bb8\u589e\u5a01\u7684\u7403\u978b\u7ba1\u7406\u7cfb\u7edf\uff01"})})}}),Object(m.jsx)(d.a,{exact:!0,path:"/managment",component:J}),Object(m.jsx)(d.a,{exact:!0,path:"/report",component:te})]})]})})},re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,574)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(ce,{}),document.getElementById("sneakerRoot")),re()}},[[562,1,2]]]);
//# sourceMappingURL=main.2962d28f.chunk.js.map